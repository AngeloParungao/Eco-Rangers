{% extends 'base.html' %} {% block content %}
<div class="flex flex-col items-center pt-14">
  <h2>{{ subtopic.title }}</h2>
  <img
    src="{{ subtopic.image.url }}"
    alt="{{ subtopic.title }}"
    class="w-[30%] h-[15rem]"
  />
  <p>{{ subtopic.description }}</p>

  {% for activity in activities %}
  <div class="mt-4">
    <h3>{{ activity.title }}</h3>
    <p>{{ activity.description }}</p>
  
    <!-- Iterate through related ActivityContents -->
    {% for content in activity.contents.all %}
    <div class="content-block">
      <p>{{ content.title }}</p>
  
      <!-- Check if the content's activity_type is 'game' -->
      <div>
        {% if content.activity_type == 'game' %}
          {{ content.content|safe }}
        {% endif %}
      </div>
    </div>
    {% endfor %}
  
    {% if activity.pdfs.exists %}
    <a href="{{ activity.pdfs.first.pdf_file.url }}" class="text-blue-500">Download PDF</a>
    {% endif %}
  </div>
  {% endfor %}


</div>
{% endblock %}
